{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[text,setText]=useState('');const[translated,setTranslated]=useState('');const[loading,setLoading]=useState(false);const[sourceLang,setSourceLang]=useState('en');const[targetLang,setTargetLang]=useState('de');const[apiUrl,setApiUrl]=useState('http://localhost:8000');// fallback\n// ⬇️ Load the API URL dynamically from env.js\nuseEffect(()=>{if(window.env&&window.env.REACT_APP_API_URL){setApiUrl(window.env.REACT_APP_API_URL);}},[]);const handleTranslate=async()=>{if(!text.trim()){alert('Please enter text to translate');return;}setLoading(true);try{const response=await fetch(\"\".concat(apiUrl,\"/translate\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text,source_lang:sourceLang,target_lang:targetLang})});if(!response.ok){throw new Error('Translation failed');}const data=await response.json();setTranslated(data.translated_text);}catch(error){console.error(error);setTranslated('Translation failed. Please try again.');}finally{setLoading(false);}};const handleClear=()=>{setText('');setTranslated('');};const handleCopy=()=>{if(!translated)return;navigator.clipboard.writeText(translated);alert('Translated text copied to clipboard!');};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AI TRANSLATOR test2  \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"language-selectors\",children:[/*#__PURE__*/_jsxs(\"select\",{value:sourceLang,onChange:e=>setSourceLang(e.target.value),className:\"language-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"de\",children:\"German\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fr\",children:\"French\"}),/*#__PURE__*/_jsx(\"option\",{value:\"es\",children:\"Spanish\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2192\"}),/*#__PURE__*/_jsxs(\"select\",{value:targetLang,onChange:e=>setTargetLang(e.target.value),className:\"language-selector\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"de\",children:\"German\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en\",children:\"English\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fr\",children:\"French\"}),/*#__PURE__*/_jsx(\"option\",{value:\"es\",children:\"Spanish\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"translation-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-section\",children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",placeholder:\"Enter text to translate...\",value:text,onChange:e=>setText(e.target.value),className:\"text-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTranslate,disabled:loading||!text.trim(),className:\"action-button translate-button\",children:loading?'Translating...':'Translate'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClear,disabled:!text.trim(),className:\"action-button clear-button\",children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"output-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Translated Text:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"translated-text\",children:translated||'No translation yet'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,disabled:!translated,className:\"action-button copy-button\",children:\"Copy to Clipboard\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","text","setText","translated","setTranslated","loading","setLoading","sourceLang","setSourceLang","targetLang","setTargetLang","apiUrl","setApiUrl","window","env","REACT_APP_API_URL","handleTranslate","trim","alert","response","fetch","concat","method","headers","body","JSON","stringify","source_lang","target_lang","ok","Error","data","json","translated_text","error","console","handleClear","handleCopy","navigator","clipboard","writeText","className","children","value","onChange","e","target","rows","placeholder","onClick","disabled"],"sources":["/home/ubuntu/mlops-translation-app-k8s/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [text, setText] = useState('');\n  const [translated, setTranslated] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [sourceLang, setSourceLang] = useState('en');\n  const [targetLang, setTargetLang] = useState('de');\n  const [apiUrl, setApiUrl] = useState('http://localhost:8000'); // fallback\n\n  // ⬇️ Load the API URL dynamically from env.js\n  useEffect(() => {\n    if (window.env && window.env.REACT_APP_API_URL) {\n      setApiUrl(window.env.REACT_APP_API_URL);\n    }\n  }, []);\n\n  const handleTranslate = async () => {\n    if (!text.trim()) {\n      alert('Please enter text to translate');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${apiUrl}/translate`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          text,\n          source_lang: sourceLang,\n          target_lang: targetLang \n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Translation failed');\n      }\n\n      const data = await response.json();\n      setTranslated(data.translated_text);\n    } catch (error) {\n      console.error(error);\n      setTranslated('Translation failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClear = () => {\n    setText('');\n    setTranslated('');\n  };\n\n  const handleCopy = () => {\n    if (!translated) return;\n    navigator.clipboard.writeText(translated);\n    alert('Translated text copied to clipboard!');\n  };\n\n  return (\n    <div className=\"app-container\">\n      <div className=\"header\">\n        <h1>AI TRANSLATOR test2  </h1>\n        <div className=\"language-selectors\">\n          <select \n            value={sourceLang} \n            onChange={(e) => setSourceLang(e.target.value)}\n            className=\"language-selector\"\n          >\n            <option value=\"en\">English</option>\n            <option value=\"de\">German</option>\n            <option value=\"fr\">French</option>\n            <option value=\"es\">Spanish</option>\n          </select>\n          <span>→</span>\n          <select \n            value={targetLang} \n            onChange={(e) => setTargetLang(e.target.value)}\n            className=\"language-selector\"\n          >\n            <option value=\"de\">German</option>\n            <option value=\"en\">English</option>\n            <option value=\"fr\">French</option>\n            <option value=\"es\">Spanish</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"translation-container\">\n        <div className=\"input-section\">\n          <textarea\n            rows=\"6\"\n            placeholder=\"Enter text to translate...\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            className=\"text-input\"\n          />\n          <div className=\"button-group\">\n            <button \n              onClick={handleTranslate} \n              disabled={loading || !text.trim()}\n              className=\"action-button translate-button\"\n            >\n              {loading ? 'Translating...' : 'Translate'}\n            </button>\n            <button \n              onClick={handleClear} \n              disabled={!text.trim()}\n              className=\"action-button clear-button\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <div className=\"output-section\">\n          <h3>Translated Text:</h3>\n          <div className=\"translated-text\">\n            {translated || 'No translation yet'}\n          </div>\n          <button \n            onClick={handleCopy} \n            disabled={!translated}\n            className=\"action-button copy-button\"\n          >\n            Copy to Clipboard\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}